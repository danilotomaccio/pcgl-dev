{"version":3,"file":"js/src_services_CarService_ts-src_components_Activity_vue-legacy.js","mappings":"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","sources":["webpack://protezione-civile/./src/components/Activity.vue?47de","webpack://protezione-civile/./src/components/Activity.vue?2277","webpack://protezione-civile/./src/model/Section.ts","webpack://protezione-civile/./src/services/CarService.ts","webpack://protezione-civile/./src/components/Activity.vue?bf4d","webpack://protezione-civile/./src/components/Activity.vue","webpack://protezione-civile/./src/components/Activity.vue?72cc","webpack://protezione-civile/./src/components/Activity.vue?1e36","webpack://protezione-civile/./src/components/Activity.vue?1554","webpack://protezione-civile/./src/components/Activity.vue?c66f"],"sourcesContent":["\nimport { defineComponent, PropType } from \"@vue/runtime-core\";\nimport { Section, SectionType } from \"@/model/Section\";\n\nexport default defineComponent({\n  emits: [\"onSubmit\"],\n\n  props: {\n    sections: {\n      type: Array as PropType<Section[]>,\n      required: true,\n    },\n    submitText: String,\n  },\n\n  data() {\n    const res: { [key: string]: any } = {};\n    const errors: { [key: string]: boolean } = {};\n    return { res, errors };\n  },\n\n  computed: {\n    sectionType: () => SectionType,\n    submitActive() {\n      for (const section of this.sections) {\n        if (\n          section.mandatory &&\n          (!this.$data.res[section.id] ||\n            this.$data.res[section.id].length === 0)\n        ) {\n          return false;\n        } else if (this.errors[section.id]) {\n          return false;\n        }\n      }\n      return true;\n    },\n  },\n\n  methods: {\n    onSubmit() {\n      this.$emit(\"onSubmit\", this.$data.res);\n    },\n    parseInput(input: string, section: Section) {\n      if (section.type === SectionType.OPEN && section.inputMode) {\n        const type = section.inputMode;\n        if (type === \"numeric\") {\n          const res = parseInt(input);\n          if (isNaN(res)) {\n            this.errors[section.id] = true;\n            return null;\n          }\n          this.errors[section.id] = false;\n          return res;\n        }\n        if (type === \"decimal\") {\n          const res = parseFloat(input);\n          if (isNaN(res)) {\n            this.errors[section.id] = true;\n            return null;\n          }\n          this.errors[section.id] = false;\n          return res;\n        }\n      }\n      return input;\n    },\n  },\n});\n","import { renderSlot as _renderSlot, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, createCommentVNode as _createCommentVNode, vShow as _vShow, withDirectives as _withDirectives, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-ee341882\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { id: \"activity\" }\nconst _hoisted_2 = { class: \"title\" }\nconst _hoisted_3 = { class: \"question\" }\nconst _hoisted_4 = {\n  key: 0,\n  class: \"options\"\n}\nconst _hoisted_5 = [\"name\", \"id\", \"onClick\"]\nconst _hoisted_6 = {\n  key: 1,\n  class: \"open\"\n}\nconst _hoisted_7 = [\"inputmode\", \"onInput\"]\nconst _hoisted_8 = { class: \"divider\" }\nconst _hoisted_9 = [\"disabled\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _renderSlot(_ctx.$slots, \"default\", {}, undefined, true)\n    ]),\n    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.sections, (section, i) => {\n      return (_openBlock(), _createElementBlock(\"div\", {\n        class: \"section\",\n        key: section.question\n      }, [\n        _createElementVNode(\"div\", _hoisted_3, _toDisplayString(section.question), 1 /* TEXT */),\n        (section.type === _ctx.sectionType.OPTIONS)\n          ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [\n              (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(section.options, (option) => {\n                return (_openBlock(), _createElementBlock(\"label\", {\n                  key: option.id,\n                  class: \"opt\"\n                }, [\n                  _createElementVNode(\"input\", {\n                    type: \"radio\",\n                    name: `section-${i}`,\n                    id: option.id,\n                    onClick: ($event: any) => (this.res[section.id] = option)\n                  }, null, 8 /* PROPS */, _hoisted_5),\n                  _createTextVNode(\" \" + _toDisplayString(option.value), 1 /* TEXT */)\n                ]))\n              }), 128 /* KEYED_FRAGMENT */))\n            ]))\n          : (_openBlock(), _createElementBlock(\"div\", _hoisted_6, [\n              _createElementVNode(\"div\", {\n                class: \"input\",\n                contenteditable: \"true\",\n                inputmode: section.inputMode ? section.inputMode : 'text',\n                onInput: ($event: any) => (\n            this.res[section.id] = _ctx.parseInput($event.target.innerText, section)\n          )\n              }, null, 40 /* PROPS, HYDRATE_EVENTS */, _hoisted_7)\n            ])),\n        _withDirectives(_createElementVNode(\"div\", _hoisted_8, null, 512 /* NEED_PATCH */), [\n          [_vShow, i < _ctx.sections.length - 1]\n        ])\n      ]))\n    }), 128 /* KEYED_FRAGMENT */)),\n    _createElementVNode(\"div\", {\n      class: \"submit_button\",\n      disabled: !_ctx.submitActive,\n      onClick: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.onSubmit && _ctx.onSubmit(...args)))\n    }, _toDisplayString(_ctx.submitText), 9 /* TEXT, PROPS */, _hoisted_9)\n  ]))\n}","/* export abstract class Section {\n    abstract question: string;\n}\n\nexport class CloseAnswer extends Section {\n    question: string;\n    options: string[];\n\n    constructor(question: string, options: string[]) {\n        super();\n        this.question = question;\n        this.options = options;\n    }\n} */\n\nexport enum SectionType { OPEN, OPTIONS }\nexport type InputMode = 'none' | 'text' | 'decimal' | 'numeric' | 'tel' | 'search' | 'email' | 'url';\nexport type BaseSect = { id: string, question: string, type: SectionType, mandatory?: boolean }\nexport type OpenRes = { type: SectionType.OPEN, inputMode?: InputMode }\nexport type OptionsRes = { type: SectionType.OPTIONS, options: { id: string, value: string }[] }\nexport type Section = BaseSect & (OpenRes | OptionsRes);\n","import { RootState, store } from \"@/store\";\nimport { push, ref } from \"firebase/database\";\nimport { Store } from \"vuex\";\nimport { FirebaseDBService } from \"./FirebaseDBService\"\n\nexport class CarService {\n\n    private db: FirebaseDBService;\n    private store: Store<RootState>;\n\n    constructor() {\n        this.db = new FirebaseDBService();\n        this.store = store;\n    }\n\n    async takeCar(causal: string, odometer: number, carId: string) {\n        const user = this.store.state.firebase.user;\n        const newKey = push(ref(this.db.db)).key;\n\n        if (user) {\n            const updates = {\n                [`cars/${carId}/out`]: true,\n                // [`cars/${carId}/odometer`]: odometer,\n                [`cars/${carId}/usedBy`]: user.uid,\n                [`users/${user.uid}/usingCar`]: true,\n                [`users/${user.uid}/car`]: carId,\n                [`users/${user.uid}/carReport`]: newKey,\n                [`carReports/${newKey}`]: { startOdometer: odometer, carId, startTime: new Date(), userId: user.uid, userName: user.displayName, causal },\n            };\n            console.log(updates);\n\n            try {\n                const res = await this.db.updateValues(updates);\n                return res;\n            } catch (error) {\n                console.error(error);\n                console.error(updates);\n            }\n        }\n        throw new Error(\"User not logged trying to update\");\n\n    }\n\n    async leaveCar(odometer: number, carId: string, declarations?: string) {\n        const user = this.store.state.firebase.user;\n        const carReportKey = this.store.state.appState.user?.carReport;\n\n        if (user && carReportKey) {\n            const updates: { [path: string]: any } = {\n                [`cars/${carId}/out`]: false,\n                [`cars/${carId}/odometer`]: odometer,\n                [`cars/${carId}/usedBy`]: null,\n                [`users/${user.uid}/usingCar`]: false,\n                [`users/${user.uid}/car`]: null,\n                [`users/${user.uid}/carReport`]: null,\n                [`carReports/${carReportKey}/stopOdometer`]: odometer,\n                [`carReports/${carReportKey}/stopTime`]: new Date(),\n            }\n\n            if (declarations) {\n                updates[`carReports/${carReportKey}/declarations`] = declarations;\n            }\n\n            try {\n                const res = await this.db.updateValues(updates);\n                return res;\n            } catch (error) {\n                console.error(error);\n                console.error(updates);\n            }\n        }\n        throw new Error(\"User not logged trying to update\");\n\n    }\n\n}","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"#activity[data-v-ee341882] {\\n  /* @include elevation(6);\\n  border-radius: 8px; */\\n  padding: 18px;\\n  max-width: 100%;\\n  background-color: white;\\n  color: #2c3e50;\\n  text-align: initial;\\n}\\n.title[data-v-ee341882] {\\n  font-weight: 500;\\n  font-size: 21px;\\n}\\n.section .question[data-v-ee341882] {\\n  margin: 4px;\\n  font-weight: 500;\\n}\\n.section .open[data-v-ee341882] {\\n  border: 1px #2c3e50 solid;\\n  border-radius: 8px;\\n  padding: 8px;\\n  margin: 6px;\\n}\\n.section .open .input[data-v-ee341882] {\\n  -webkit-appearance: none;\\n  outline: none;\\n}\\n.section .options[data-v-ee341882] {\\n  display: flex;\\n  align-content: center;\\n  justify-content: space-around;\\n  align-items: center;\\n  flex-wrap: wrap;\\n}\\n.section .options .opt[data-v-ee341882] {\\n  border: 1px #2c3e50 solid;\\n  border-radius: 8px;\\n  padding: 8px;\\n  flex-grow: 1;\\n  margin: 8px;\\n  cursor: pointer;\\n  /* input {\\n    position: absolute;\\n    opacity: 0;\\n    height: 0;\\n    width: 0;\\n  } */\\n}\\n.divider[data-v-ee341882] {\\n  border-top: 1px #929292 solid;\\n  margin: 12px;\\n}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","import { render } from \"./Activity.vue?vue&type=template&id=ee341882&scoped=true&ts=true\"\nimport script from \"./Activity.vue?vue&type=script&lang=ts\"\nexport * from \"./Activity.vue?vue&type=script&lang=ts\"\n\nimport \"./Activity.vue?vue&type=style&index=0&id=ee341882&lang=scss&scoped=true\"\n\nimport exportComponent from \"/Users/TomaccioD/Documents/other/protezione-civile/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-ee341882\"],['__file',\"src/components/Activity.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"ee341882\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('ee341882', __exports__)) {\n    api.reload('ee341882', __exports__)\n  }\n  \n  module.hot.accept(\"./Activity.vue?vue&type=template&id=ee341882&scoped=true&ts=true\", () => {\n    api.rerender('ee341882', render)\n  })\n\n}\n\n\nexport default __exports__","export { default } from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[1]!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./Activity.vue?vue&type=script&lang=ts\"; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[1]!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./Activity.vue?vue&type=script&lang=ts\"","export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[1]!../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[4]!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./Activity.vue?vue&type=template&id=ee341882&scoped=true&ts=true\"","export * from \"-!../../node_modules/vue-style-loader/index.js??clonedRuleSet-22.use[0]!../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-22.use[1]!../../node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-22.use[2]!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-22.use[3]!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./Activity.vue?vue&type=style&index=0&id=ee341882&lang=scss&scoped=true\"","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-22.use[1]!../../node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-22.use[2]!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-22.use[3]!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./Activity.vue?vue&type=style&index=0&id=ee341882&lang=scss&scoped=true\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"445c043e\", content, false, {\"sourceMap\":false,\"shadowMode\":false});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-22.use[1]!../../node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-22.use[2]!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-22.use[3]!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./Activity.vue?vue&type=style&index=0&id=ee341882&lang=scss&scoped=true\", function() {\n     var newContent = require(\"!!../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-22.use[1]!../../node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-22.use[2]!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-22.use[3]!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./Activity.vue?vue&type=style&index=0&id=ee341882&lang=scss&scoped=true\");\n     if(newContent.__esModule) newContent = newContent.default;\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}"],"names":["defineComponent","SectionType","emits","props","sections","type","Array","required","submitText","String","data","res","errors","computed","sectionType","submitActive","section","mandatory","$data","id","length","methods","onSubmit","$emit","parseInput","input","OPEN","inputMode","parseInt","isNaN","parseFloat","renderSlot","_renderSlot","createElementVNode","_createElementVNode","renderList","_renderList","Fragment","_Fragment","openBlock","_openBlock","createElementBlock","_createElementBlock","toDisplayString","_toDisplayString","createTextVNode","_createTextVNode","vShow","_vShow","withDirectives","_withDirectives","pushScopeId","_pushScopeId","popScopeId","_popScopeId","_withScopeId","n","_hoisted_1","_hoisted_2","class","_hoisted_3","_hoisted_4","key","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","render","_ctx","_cache","$props","$setup","$options","$slots","undefined","i","question","OPTIONS","options","option","name","onClick","$event","value","contenteditable","inputmode","onInput","target","innerText","disabled","store","push","ref","FirebaseDBService","CarService","db","causal","odometer","carId","user","state","firebase","newKey","updates","uid","startOdometer","startTime","Date","userId","userName","displayName","console","log","updateValues","error","Error","declarations","carReportKey","appState","carReport"],"sourceRoot":""}