{"version":3,"file":"js/src_views_AdminHome_vue.js","mappings":"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","sources":["webpack://protezione-civile/./src/views/AdminHome.vue?5a60","webpack://protezione-civile/./src/views/AdminHome.vue?a093","webpack://protezione-civile/./src/services/ReportService.ts","webpack://protezione-civile/./src/views/AdminHome.vue?dfc7","webpack://protezione-civile/./src/views/AdminHome.vue","webpack://protezione-civile/./src/views/AdminHome.vue?6fd4","webpack://protezione-civile/./src/views/AdminHome.vue?1dc3","webpack://protezione-civile/./src/views/AdminHome.vue?b245","webpack://protezione-civile/./src/views/AdminHome.vue?e45e"],"sourcesContent":["\nimport { FirebaseDBService } from \"@/services/FirebaseDBService\";\nimport { ReportService } from \"@/services/ReportService\";\nimport { defineComponent } from \"vue\";\nimport { CarReport } from \"@/model/CarReport\";\n\nexport default defineComponent({\n  methods: {\n    async downloadCSV() {\n      const firebaseService = new FirebaseDBService();\n      const data = await firebaseService.readData<{ [key: string]: CarReport }>(\n        \"carReports\"\n      );\n      if (data) {\n        const csvContent = new ReportService().reportsToCSV(data);\n        this.downloadFile(\"report.csv\", csvContent);\n      }\n    },\n    downloadFile(fileName: string, content: string) {\n      const element = document.createElement(\"a\");\n      element.setAttribute(\n        \"href\",\n        \"data:text/plain;charset=utf-8,\" + encodeURIComponent(content)\n      );\n      element.setAttribute(\"download\", fileName);\n      element.style.display = \"none\";\n      document.body.appendChild(element);\n      element.click()\n      document.body.removeChild(element);\n    },\n  },\n});\n","import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-3d9045f8\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { id: \"admin_home\" }\nconst _hoisted_2 = { class: \"section\" }\nconst _hoisted_3 = { class: \"description\" }\nconst _hoisted_4 = { class: \"section\" }\nconst _hoisted_5 = { class: \"description\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"h2\", null, _toDisplayString(_ctx.$t.adminTitle), 1 /* TEXT */),\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"div\", _hoisted_3, _toDisplayString(_ctx.$t.csvDownloadDesc), 1 /* TEXT */),\n      _createElementVNode(\"div\", {\n        class: \"button\",\n        onClick: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.downloadCSV && _ctx.downloadCSV(...args)))\n      }, _toDisplayString(_ctx.$t.csvDownloadBtn), 1 /* TEXT */)\n    ]),\n    _createElementVNode(\"div\", _hoisted_4, [\n      _createElementVNode(\"div\", _hoisted_5, _toDisplayString(_ctx.$t.notificationDesc), 1 /* TEXT */),\n      _createElementVNode(\"div\", {\n        class: \"button\",\n        onClick: _cache[1] || (_cache[1] = ()=>this.$router.push('/admin/notifications'))\n      }, _toDisplayString(_ctx.$t.csvDownloadBtn), 1 /* TEXT */)\n    ])\n  ]))\n}","import { CarReport } from \"@/model/CarReport\";\n\nexport class ReportService {\n\n    reportsToCSV(reports: { [key: string]: CarReport }) {\n        const carReportFields = [\n          \"carId\",\n          \"startTime\",\n          \"stopTime\",\n          \"startOdometer\",\n          \"stopOdometer\",\n          \"userId\",\n          \"userName\",\n          \"causal\",\n          \"declarations\",\n        ];\n        let res =\n          \"id\" + carReportFields.reduce((p, f) => (p += `,${f}`), \"\") + \"\\n\";\n        for (const reportId in reports) {\n          res += `${reportId}`;\n          const rep = reports[reportId];\n          for (const field of carReportFields) {\n            const value = rep[field as keyof CarReport];\n            res += `,${value ? value : \"\"}`;\n          }\n          res += \"\\n\";\n        }\n        return res;\n      }\n}","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"#admin_home[data-v-3d9045f8] {\\n  padding: 24px;\\n}\\n#admin_home .section[data-v-3d9045f8] {\\n  box-shadow: 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);\\n  z-index: 2;\\n  border-radius: 8px;\\n  padding: 14px;\\n  max-width: 100%;\\n  background-color: white;\\n  color: #2c3e50;\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n}\\n#admin_home .section .description[data-v-3d9045f8] {\\n  padding: 6px;\\n}\\n#admin_home .button[data-v-3d9045f8] {\\n  padding: 8px 18px;\\n  cursor: pointer;\\n  background-color: #0047bb;\\n  color: #f0fbff;\\n  border-radius: 8px;\\n}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","import { render } from \"./AdminHome.vue?vue&type=template&id=3d9045f8&scoped=true&ts=true\"\nimport script from \"./AdminHome.vue?vue&type=script&lang=ts\"\nexport * from \"./AdminHome.vue?vue&type=script&lang=ts\"\n\nimport \"./AdminHome.vue?vue&type=style&index=0&id=3d9045f8&lang=scss&scoped=true\"\n\nimport exportComponent from \"/Users/TomaccioD/Documents/other/protezione-civile/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3d9045f8\"],['__file',\"src/views/AdminHome.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"3d9045f8\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('3d9045f8', __exports__)) {\n    api.reload('3d9045f8', __exports__)\n  }\n  \n  module.hot.accept(\"./AdminHome.vue?vue&type=template&id=3d9045f8&scoped=true&ts=true\", () => {\n    api.rerender('3d9045f8', render)\n  })\n\n}\n\n\nexport default __exports__","export { default } from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[1]!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./AdminHome.vue?vue&type=script&lang=ts\"; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[1]!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./AdminHome.vue?vue&type=script&lang=ts\"","export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[1]!../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[4]!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./AdminHome.vue?vue&type=template&id=3d9045f8&scoped=true&ts=true\"","export * from \"-!../../node_modules/vue-style-loader/index.js??clonedRuleSet-22.use[0]!../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-22.use[1]!../../node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-22.use[2]!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-22.use[3]!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./AdminHome.vue?vue&type=style&index=0&id=3d9045f8&lang=scss&scoped=true\"","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-22.use[1]!../../node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-22.use[2]!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-22.use[3]!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./AdminHome.vue?vue&type=style&index=0&id=3d9045f8&lang=scss&scoped=true\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"ac54a5ee\", content, false, {\"sourceMap\":false,\"shadowMode\":false});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-22.use[1]!../../node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-22.use[2]!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-22.use[3]!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./AdminHome.vue?vue&type=style&index=0&id=3d9045f8&lang=scss&scoped=true\", function() {\n     var newContent = require(\"!!../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-22.use[1]!../../node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-22.use[2]!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-22.use[3]!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./AdminHome.vue?vue&type=style&index=0&id=3d9045f8&lang=scss&scoped=true\");\n     if(newContent.__esModule) newContent = newContent.default;\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}"],"names":["FirebaseDBService","ReportService","defineComponent","methods","downloadCSV","firebaseService","data","readData","csvContent","reportsToCSV","downloadFile","fileName","content","element","document","createElement","setAttribute","encodeURIComponent","style","display","body","appendChild","click","removeChild","toDisplayString","_toDisplayString","createElementVNode","_createElementVNode","openBlock","_openBlock","createElementBlock","_createElementBlock","pushScopeId","_pushScopeId","popScopeId","_popScopeId","_withScopeId","n","_hoisted_1","id","_hoisted_2","class","_hoisted_3","_hoisted_4","_hoisted_5","render","_ctx","_cache","$props","$setup","$data","$options","$t","adminTitle","csvDownloadDesc","onClick","args","csvDownloadBtn","notificationDesc","$router","push","reports","carReportFields","res","reduce","p","f","reportId","rep","field","value"],"sourceRoot":""}