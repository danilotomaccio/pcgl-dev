(function(){"use strict";var e={734:function(e,t,n){var i=n(963),o=n(252);function s(e,t,n,i,s,a){const l=(0,o.up)("HomePage");return(0,o.wg)(),(0,o.j4)(l)}var a=n(655),l=n(124),r=n(577);const c={key:0,class:"round"},u={key:1,class:"instructions"};function d(e,t,n,i,s,a){const l=(0,o.up)("Round"),d=(0,o.up)("Bomb"),m=(0,o.up)("Settings"),h=(0,o.up)("NewRound");return(0,o.wg)(),(0,o.iD)("div",{id:"home_page",style:(0,r.j5)("font-family:"+this.$store.state.settings.font)},[e.roundStarted?((0,o.wg)(),(0,o.iD)("div",c,[(0,o.Wm)(l),(0,o.Wm)(d)])):((0,o.wg)(),(0,o.iD)("div",u,[(0,o.Wm)(m,{class:"settings"}),(0,o.Wm)(h,{first:e.firstRound},null,8,["first"])]))],4)}const m={id:"round"},h=(0,o.Uk)(" Usa la sillaba "),p={class:"syllable"},v={class:"dice"};function g(e,t,n,i,s,a){return(0,o.wg)(),(0,o.iD)("div",m,[h,(0,o._)("div",p,(0,r.zw)(e.roundSyllable),1),(0,o._)("div",v,(0,r.zw)(e.diceSentence[0]),1),(0,o.Uk)(" "+(0,r.zw)(e.diceSentence[1])+" parola ",1)])}var b;(function(e){e[e["START"]=0]="START",e[e["END"]=1]="END",e[e["EVERYWHERE"]=2]="EVERYWHERE"})(b||(b={}));let f=class extends l.w3{};f=(0,a.gn)([(0,l.Ei)({data(){return{}},computed:{roundDiceValue(){return this.$store.state.round.selectedDiceValue},roundSyllable(){return this.$store.state.round.selectedSyllable},diceSentence(){let e;switch(b[this.roundDiceValue]){case b.START:e=["all'inizio","della"];break;case b.END:e=["alla fine","della"];break;default:e=["ovunque","nella"];break}return e}}})],f);var w=f,x=n(744);const k=(0,x.Z)(w,[["render",g],["__scopeId","data-v-30e7c4b4"]]);var T=k;const y={id:"bomb"},S={class:"led"},_={class:"explosionContainer",ref:"explosionContainerEl"},E={class:"explosion",ref:"explosionEl"};function R(e,t,n,s,a,l){return(0,o.wg)(),(0,o.iD)("div",y,[(0,o.wy)((0,o._)("div",S,null,512),[[i.F8,!e.explosion]]),(0,o.wy)((0,o._)("div",_,[(0,o._)("div",E,null,512)],512),[[i.F8,e.explosion]])])}const F=["au","to","ap","pren","di","men","in","for","ma","ti","ca","pa","ci","tà","un","pro","gram","la","bo","ra","zio","ne","da","mi","glio","re","le","prie","fun","na","li","sfrut","tan","do","ni","che","gli","ven","go","no","of","fer","te","stes","si","gres","so","co","me","av","vie","per","es","al","cu","let","tu","ot","man","dat","lu","con","tra","sto","del","sa","com","met","nu","ro","sem","pre","er","ri","de","fra","nel","vo","tec","tel","gen","za","ar","fi","cia","ha","sen","liz","mu","ble","sio","sul","ba","se","sce","va","van","ria","bi","stra","gia","gie","ai","ta","su","ef","fet","tua","cam","po","bot","mo","il","por","dei","ce","den","spes","tri","lo","im","ple","sull","trol","spe","tal","spo","sta","fis","tran","vi","vel","ples","pli","quan","fat","ster","piu","pas","du","stri","pe","ve","ste","cui","ter","ben","sil","be","on","ov","via","an","pos","scri","lun","sie","stro","puo","nal","ver","cio","ru","ga","ran","lop","teg","gio","ac","can","ad","gni","pio","que","sti","pri","sia"];var C=n(907);const D={state:{selectedSyllable:null,selectedDiceValue:null,bombTime:null,started:!1},mutations:{changeSelectedSyllable(e,t){e.selectedSyllable=t},changeSelectedDiceValue(e,t){e.selectedDiceValue=t},changeBombTime(e,t){e.bombTime=t},stopRound(e){e.started=!1},startRound(e){e.started=!0}}},B="changeSelectedSyllable",M="changeSelectedDiceValue",$="changeBombTime",A="startRound",O="stopRound",I={state:{maxBombTime:60,minBombTime:10,font:"Cabin Sketch",fullScreen:!1,installEvent:null},mutations:{changeMinBombTime(e,t){e.minBombTime=t},changeMaxBombTime(e,t){e.maxBombTime=t},toggleFont(e,t){e.font=null!=t?t:"Avenir"===e.font?"Cabin Sketch":"Avenir"},toggleFullScreen(e,t){e.fullScreen=null!=t?t:!e.fullScreen},setInstallEvent(e,t){e.installEvent=t}}},z="changeMinBombTime",V="changeMaxBombTime",q="toggleFont",N="toggleFullScreen",L="setInstallEvent",U={state:{fullScreen:!1},mutations:{enableFullScreen(e){e.fullScreen=!0},disableFullScreen(e){e.fullScreen=!1}}},j="enableFullScreen",P="disableFullScreen",H=Symbol(),W=(0,C.MT)({modules:{ui:U,round:D,settings:I}});class Z{constructor(){this.store=(0,C.oR)(H),this.syllablesList=F}onNewRound(){const e=this.store.state.settings.maxBombTime,t=this.store.state.settings.minBombTime,n=this.syllablesList[Math.floor(Math.random()*this.syllablesList.length)],i=b[Math.floor(3*Math.random())],o=Math.floor(Math.random()*(e-t))+t;this.store.commit(M,i),this.store.commit(B,n),this.store.commit($,o),this.store.commit(A)}onRoundEnd(){this.store.commit(O)}}class Y{constructor(e=60){this.isRunning=!1,this.audioContext=null,this.intervalID=null,this.tempo=e}start(){this.isRunning||(null==this.audioContext&&(this.audioContext=new(window.AudioContext||window.webkitAudioContext)),this.isRunning=!0,this.intervalID=setInterval((()=>this.playTick()),1e3))}stop(){this.isRunning=!1,this.intervalID&&clearInterval(this.intervalID)}startStop(){this.isRunning?this.stop():this.start()}playTick(){if(this.audioContext){const e=this.audioContext.currentTime,t=this.audioContext.createOscillator(),n=this.audioContext.createGain();t.type="square",t.frequency.value=2400,n.gain.value=1,n.gain.exponentialRampToValueAtTime(1,e+.001),n.gain.exponentialRampToValueAtTime(.001,e+.02),t.connect(n),n.connect(this.audioContext.destination),t.start(e),t.stop(e+.2)}}}let G=class extends l.w3{};G=(0,a.gn)([(0,l.Ei)({data(){return{explosion:!1,roundService:new Z}},computed:{bombValue(){return this.$store.state.round.bombTime}},mounted(){const e=new Audio("Explosion.mp3"),t=new Y;t.start(),setTimeout((async()=>{t.stop(),this.explode();const n=e.duration;e.play(),"vibrate"in navigator&&navigator.vibrate(900),setTimeout((()=>{this.roundService.onRoundEnd(),this.$store.commit(P)}),1e3*n)}),1e3*this.$store.state.round.bombTime)},methods:{explode(){this.explosion=!0,console.log(this.$refs);const e=20,t=["#F9B232","#ff9800","#ffcb3b","#ffc107","#ff5722"],n=this.$refs.explosionContainerEl,i=this.$refs.explosionEl,o=200;for(let s=0;s<e;s++){const e=i.cloneNode();e.style.background=t[(s+1)%t.length],e.style.animationDelay=(s+1)*o+"ms",n.appendChild(e)}}}})],G);var Q=G;const J=(0,x.Z)(Q,[["render",R],["__scopeId","data-v-c5c33bf4"]]);var K=J;const X=e=>((0,o.dD)("data-v-c947bab4"),e=e(),(0,o.Cn)(),e),ee={id:"new_round"},te=X((()=>(0,o._)("h1",null,"Passa la bomba",-1))),ne=X((()=>(0,o._)("div",{class:"explain"},[(0,o._)("div",{class:"highlight"},"1. Premi il bottone qui sotto"),(0,o.Uk)(" Ti verranno mostrate due o più lettere e la posizione in cui devono essere usate. Verrà anche avviata la bomba "),(0,o._)("div",{class:"highlight"},"2. Di' una parola"),(0,o.Uk)(" che contiene le lettere nella giusta posizione "),(0,o._)("div",{class:"highlight"},"3. Passa il telefono"),(0,o.Uk)(" al giocatore successivo prima che esploda la bomba! ")],-1))),ie=X((()=>(0,o._)("h1",null,"Sei esploso!",-1))),oe=X((()=>(0,o._)("div",{class:"explain"},[(0,o._)("div",{class:"highlight"},"Avvia un nuovo round"),(0,o.Uk)(" Premendo il bottone qui in basso ")],-1)));function se(e,t,n,i,s,a){return(0,o.wg)(),(0,o.iD)("div",ee,[e.first?((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[te,ne],64)):((0,o.wg)(),(0,o.iD)(o.HY,{key:1},[ie,oe],64)),(0,o._)("button",{class:"new_round_btn",onClick:t[0]||(t[0]=(...t)=>e.newRound&&e.newRound(...t))},(0,r.zw)(e.first?"Avvia":"Nuovo round"),1)])}let ae=class extends l.w3{};ae=(0,a.gn)([(0,l.Ei)({props:{first:{default:!0,type:Boolean}},data(){const e=new Z;return{roundService:e}},methods:{newRound(){this.roundService.onNewRound(),this.$store.commit(j)}}})],ae);var le=ae;const re=(0,x.Z)(le,[["render",se],["__scopeId","data-v-c947bab4"]]);var ce=re;const ue=e=>((0,o.dD)("data-v-e4a4f61e"),e=e(),(0,o.Cn)(),e),de={id:"more_menu"},me=ue((()=>(0,o._)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#FFFFFF"},[(0,o._)("path",{d:"M0 0h24v24H0z",fill:"none"}),(0,o._)("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})],-1))),he=[me],pe={key:0,id:"menu"},ve=ue((()=>(0,o._)("div",{class:"text"},"Usa font più leggibile",-1))),ge={class:"switch"},be=ue((()=>(0,o._)("span",{class:"slider"},null,-1))),fe=ue((()=>(0,o._)("div",{class:"text"},"Passa a schermo intero",-1))),we={class:"switch"},xe=ue((()=>(0,o._)("span",{class:"slider"},null,-1))),ke={class:"option"},Te=ue((()=>(0,o._)("label",{for:"minTime"},"Tempo minimo bomba",-1))),ye=["value"],Se={class:"option"},_e=ue((()=>(0,o._)("label",{for:"maxTime"},"Tempo massimo bomba",-1))),Ee=["value"];function Re(e,t,n,s,a,l){const r=(0,o.Q2)("click-outside");return(0,o.wy)(((0,o.wg)(),(0,o.iD)("div",de,[(0,o._)("div",{id:"menu_btn",onClick:t[0]||(t[0]=t=>e.showMenu=!e.showMenu)},he),e.showMenu?((0,o.wg)(),(0,o.iD)("div",pe,[(0,o._)("div",{class:"option",onClick:t[2]||(t[2]=(...t)=>e.toggleFont&&e.toggleFont(...t))},[ve,(0,o._)("div",ge,[(0,o.wy)((0,o._)("input",{type:"checkbox","onUpdate:modelValue":t[1]||(t[1]=e=>this.readableFont=e)},null,512),[[i.e8,this.readableFont]]),be])]),(0,o._)("div",{class:"option",onClick:t[4]||(t[4]=(...t)=>e.toggleFullScreen&&e.toggleFullScreen(...t))},[fe,(0,o._)("div",we,[(0,o.wy)((0,o._)("input",{type:"checkbox","onUpdate:modelValue":t[3]||(t[3]=e=>this.fullScreenEnabled=e)},null,512),[[i.e8,this.fullScreenEnabled]]),xe])]),(0,o._)("div",ke,[Te,(0,o._)("input",{type:"number",name:"minTime",id:"minTime",value:this.minBombTime,onChange:t[5]||(t[5]=(...t)=>e.updateMinTime&&e.updateMinTime(...t))},null,40,ye)]),(0,o._)("div",Se,[_e,(0,o._)("input",{type:"number",name:"maxTime",id:"maxTime",value:e.maxBombTime,onChange:t[6]||(t[6]=(...t)=>e.updateMaxTime&&e.updateMaxTime(...t))},null,40,Ee)]),e.installEv?((0,o.wg)(),(0,o.iD)("div",{key:0,class:"option",onClick:t[7]||(t[7]=(...t)=>e.installApp&&e.installApp(...t))}," Installa app ")):(0,o.kq)("",!0)])):(0,o.kq)("",!0)])),[[r,e.onClickOutside]])}let Fe=class extends l.w3{};Fe=(0,a.gn)([(0,l.Ei)({data(){const e=!1;return{showMenu:e}},methods:{onClickOutside(){this.showMenu=!1},toggleFont(){this.$store.commit(q)},toggleFullScreen(){this.$store.commit(N)},updateMinTime(e){if(e.target){let t=parseInt(e.target.value);t>=this.maxBombTime&&(t=this.maxBombTime-20),this.$store.commit(z,t)}},updateMaxTime(e){if(e.target){let t=parseInt(e.target.value);t<this.minBombTime&&(t=this.minBombTime+20),this.$store.commit(V,t)}},installApp(){this.installEv&&this.installEv.prompt()}},computed:{minBombTime(){return this.$store.state.settings.minBombTime},maxBombTime(){return this.$store.state.settings.maxBombTime},readableFont(){return"Avenir"===this.$store.state.settings.font},fullScreenEnabled(){return this.$store.state.settings.fullScreen},installEv(){return this.$store.state.settings.installEvent}}})],Fe);var Ce=Fe;const De=(0,x.Z)(Ce,[["render",Re],["__scopeId","data-v-e4a4f61e"]]);var Be=De;let Me=class extends l.w3{};Me=(0,a.gn)([(0,l.Ei)({components:{Round:T,Bomb:K,NewRound:ce,Settings:Be},data(){return{wakeLock:null,firstRound:!0}},computed:{roundStarted(){return this.$store.state.round.started}},watch:{async["$store.state.ui.fullScreen"](e,t){if(e&&!t)try{this.$store.state.settings.fullScreen&&await this.$el.requestFullscreen(),this.wakeLock=await navigator.wakeLock.request("screen"),this.firstRound=!1}catch(n){console.error(n)}else try{document.fullscreenElement&&await document.exitFullscreen(),this.wakeLock&&await this.wakeLock.release()}catch(n){console.error(n)}}}})],Me);var $e=Me;const Ae=(0,x.Z)($e,[["render",d],["__scopeId","data-v-997ef276"]]);var Oe=Ae;let Ie=class extends l.w3{};Ie=(0,a.gn)([(0,l.Ei)({components:{HomePage:Oe},created(){window.addEventListener("beforeinstallprompt",(e=>{this.$store.commit(L,e)}))}})],Ie);var ze=Ie;const Ve=(0,x.Z)(ze,[["render",s]]);var qe=Ve;const Ne={beforeMount(e,t,n){e.clickOutsideEvent=function(n){e===n.target||e.contains(n.target)||t.value(n,e)},document.body.addEventListener("click",e.clickOutsideEvent)},unmounted(e){document.body.removeEventListener("click",e.clickOutsideEvent)}};var Le=n(205);(0,Le.z)("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}}),(0,i.ri)(qe).use(W,H).directive("click-outside",Ne).mount("#app")}},t={};function n(i){var o=t[i];if(void 0!==o)return o.exports;var s=t[i]={exports:{}};return e[i](s,s.exports,n),s.exports}n.m=e,function(){var e=[];n.O=function(t,i,o,s){if(!i){var a=1/0;for(u=0;u<e.length;u++){i=e[u][0],o=e[u][1],s=e[u][2];for(var l=!0,r=0;r<i.length;r++)(!1&s||a>=s)&&Object.keys(n.O).every((function(e){return n.O[e](i[r])}))?i.splice(r--,1):(l=!1,s<a&&(a=s));if(l){e.splice(u--,1);var c=o();void 0!==c&&(t=c)}}return t}s=s||0;for(var u=e.length;u>0&&e[u-1][2]>s;u--)e[u]=e[u-1];e[u]=[i,o,s]}}(),function(){n.d=function(e,t){for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,i){var o,s,a=i[0],l=i[1],r=i[2],c=0;if(a.some((function(t){return 0!==e[t]}))){for(o in l)n.o(l,o)&&(n.m[o]=l[o]);if(r)var u=r(n)}for(t&&t(i);c<a.length;c++)s=a[c],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return n.O(u)},i=self["webpackChunkpassalabomba"]=self["webpackChunkpassalabomba"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=n.O(void 0,[998],(function(){return n(734)}));i=n.O(i)})();
//# sourceMappingURL=app.81a2576f.js.map